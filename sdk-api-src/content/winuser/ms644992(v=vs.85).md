---
title: SysMsgProc callback function (Windows)
TOCTitle: SysMsgProc callback function
ms:assetid: VS|winui|~\winui\windowsuserinterface\windowing\hooks\hookreference\hookfunctions\sysmsgproc.htm
ms:mtpsurl: https://msdn.microsoft.com/en-us/library/ms644992(v=VS.85)
ms:contentKeyID: 5641732
ms.date: 03/30/2018
mtps_version: v=VS.85
f1_keywords:
- SysMsgProc
- MSGF_SCROLLBAR
- MSGF_DIALOGBOX
- MSGF_MENU
- winuser/SysMsgProc
dev_langs:
- C++
- C
api_location:
- Winuser.h
api_name:
- SysMsgProc
api_type:
- UserDefined
product:
- Windows
topic_type:
- apiref
- kbSyntax
product_family_name: VS
ROBOTS: INDEX,FOLLOW
---

# SysMsgProc callback function

An application-defined or library-defined callback function used with the [**SetWindowsHookEx**](https://msdn.microsoft.com/en-us/library/ms644990\(v=vs.85\)) function. The system calls this function after an input event occurs in a dialog box, message box, menu, or scroll bar, but before the message generated by the input event is processed. The function can monitor messages for any dialog box, message box, menu, or scroll bar in the system.

The **HOOKPROC** type defines a pointer to this callback function. *SysMsgProc* is a placeholder for the application-defined or library-defined function name.

## Syntax

``` c++
LRESULT CALLBACK SysMsgProc(
  _In_ int    nCode,
       WPARAM wParam,
  _In_ LPARAM lParam
);
```

## Parameters

  - *nCode* \[in\]  
    Type: **int**
    
    The type of input event that generated the message. If *nCode* is less than zero, the hook procedure must pass the message to the [**CallNextHookEx**](https://msdn.microsoft.com/en-us/library/ms644974\(v=vs.85\)) function without further processing and should return the value returned by **CallNextHookEx**. This parameter can be one of the following values.
    
    <table>
    <colgroup>
    <col style="width: 50%" />
    <col style="width: 50%" />
    </colgroup>
    <thead>
    <tr class="header">
    <th>Value</th>
    <th>Meaning</th>
    </tr>
    </thead>
    <tbody>
    <tr class="odd">
    <td><span id="MSGF_DIALOGBOX"></span><span id="msgf_dialogbox"></span>
    <strong>MSGF_DIALOGBOX</strong>
    0</td>
    <td><p>The input event occurred in a message box or dialog box.</p></td>
    </tr>
    <tr class="even">
    <td><span id="MSGF_MENU"></span><span id="msgf_menu"></span>
    <strong>MSGF_MENU</strong>
    2</td>
    <td><p>The input event occurred in a menu.</p></td>
    </tr>
    <tr class="odd">
    <td><span id="MSGF_SCROLLBAR"></span><span id="msgf_scrollbar"></span>
    <strong>MSGF_SCROLLBAR</strong>
    5</td>
    <td><p>The input event occurred in a scroll bar.</p></td>
    </tr>
    </tbody>
    </table>
    
     

  - *wParam*  
    Type: **WPARAM**
    
    This parameter is not used.

  - *lParam* \[in\]  
    Type: **LPARAM**
    
    A pointer to an [**MSG**](https://msdn.microsoft.com/en-us/library/ms644958\(v=vs.85\)) message structure.

## Return value

Type: ****

Type: LRESULT

If *nCode* is less than zero, the hook procedure must return the value returned by [**CallNextHookEx**](https://msdn.microsoft.com/en-us/library/ms644974\(v=vs.85\)).

If *nCode* is greater than or equal to zero, and the hook procedure did not process the message, it is highly recommended that you call [**CallNextHookEx**](https://msdn.microsoft.com/en-us/library/ms644974\(v=vs.85\)) and return the value it returns; otherwise, other applications that have installed [**WH\_SYSMSGFILTER**](https://msdn.microsoft.com/en-us/library/ms644959\(v=vs.85\)) hooks will not receive hook notifications and may behave incorrectly as a result. If the hook procedure processed the message, it may return a nonzero value to prevent the system from passing the message to the target window procedure.

## Remarks

An application installs the hook procedure by specifying the [**WH\_SYSMSGFILTER**](https://msdn.microsoft.com/en-us/library/ms644959\(v=vs.85\)) hook type and a pointer to the hook procedure in a call to the [**SetWindowsHookEx**](https://msdn.microsoft.com/en-us/library/ms644990\(v=vs.85\)) function.

## Requirements

<table>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="odd">
<td><p>Minimum supported client</p></td>
<td><p>Windows 2000 Professional [desktop apps only]</p></td>
</tr>
<tr class="even">
<td><p>Minimum supported server</p></td>
<td><p>Windows 2000 Server [desktop apps only]</p></td>
</tr>
<tr class="odd">
<td><p>Header</p></td>
<td>Winuser.h (include Windows.h)</td>
</tr>
</tbody>
</table>


## See also

**Reference**

[**CallNextHookEx**](https://msdn.microsoft.com/en-us/library/ms644974\(v=vs.85\))

[**MSG**](https://msdn.microsoft.com/en-us/library/ms644958\(v=vs.85\))

[**SetWindowsHookEx**](https://msdn.microsoft.com/en-us/library/ms644990\(v=vs.85\))

**Conceptual**

[Hooks](https://msdn.microsoft.com/en-us/library/ms632589\(v=vs.85\))

